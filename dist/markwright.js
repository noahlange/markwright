"use strict";(()=>{var se=Object.create;var O=Object.defineProperty;var me=Object.getOwnPropertyDescriptor;var ue=Object.getOwnPropertyNames;var le=Object.getPrototypeOf,ce=Object.prototype.hasOwnProperty;var pe=(e,t,o)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var a=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(t,o)=>(typeof require!="undefined"?require:t)[o]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var de=(e,t,o,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of ue(t))!ce.call(e,n)&&n!==o&&O(e,n,{get:()=>t[n],enumerable:!(r=me(t,n))||r.enumerable});return e};var fe=(e,t,o)=>(o=e!=null?se(le(e)):{},de(t||!e||!e.__esModule?O(o,"default",{value:e,enumerable:!0}):o,e));var C=(e,t,o)=>(pe(e,typeof t!="symbol"?t+"":t,o),o);var D=fe(a("react")),ge=a("react/jsx-runtime"),v=D.default.forwardRef((e,t)=>(0,ge.jsx)("div",{className:"mw",style:{position:"absolute",left:-1e4},ref:t,children:e.children}));var l=a("react"),w=a("simple-markdown");var x=e=>e?parseInt(e):0,p=class{number=0;elementNotes=new Map;bounds;container;elements=[];constructor(t,o){this.container=o,this.number=t;let r=o.getBoundingClientRect(),n=x(getComputedStyle(o).columnCount)||1,i=r.width,s=r.height*n;this.bounds={width:i,height:s}}get ids(){return this.elements.map(t=>t.id)}get footnotes(){return Array.from(this.elementNotes.values()).reduce((t,o)=>t+o,0)}get height(){let[t,o]=[0,0];for(let r of this.elements){let n=getComputedStyle(r),i=r.offsetHeight,[s,u]=[x(n.marginTop),x(n.marginBottom)];t+=i+Math.max(s,o),o=u}return t+=o,t}get isOverflowing(){return this.height>this.bounds.height}add(t){this.elements.push(t);let o=Array.from(t.querySelectorAll(".footnote")).length;o&&this.elementNotes.set(t,o)}pop(){let t=this.elements.pop();return t&&this.elementNotes.delete(t),t??null}};C(p,"FOOTNOTE_BLOCK_HEIGHT",48);var y=class{pages=[];number;start;name=null;constructor(t,o){this.number=t,this.start=o}get ids(){return this.pages.flatMap(t=>t.ids)}add(t){this.pages.push(t)}};function B(e){return Array.from(e)}function W(e){let t=1;return B(e.querySelectorAll(".section .content")).map((o,r)=>{let n=new y(r+1,t),i=new p(t++,o);for(let s of B(o.children)){i.add(s);let u=i.isOverflowing,h=s.classList.contains("mw-break-page");if(u||h){let f=i;if(f.pop(),n.add(f),i=new p(t++,o),u){let b=f.pop();b&&(/h/i.test(b.tagName)?i.add(b):f.add(b))}i.add(s)}}return n.add(i),n})}var k=a("react");var Re="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";function m(e=8){let t="",o=e;for(;o--;)t+=Re[Math.random()*64|0];return t}function S(e,t){if(e)if(Array.isArray(e))for(let o of e)S(o,t);else e.content&&S(e.content,t),t(e);else return}function c(e="div",t){return{react:(o,r,n)=>(0,k.createElement)(e,{children:o.content?r(o.content):null,className:t?.replace("mw-",""),key:n.key?.toString()??o.id})}}function J(e){return(t,o,r)=>({...e(t,o,r),id:m()})}function X(e){return(t,o,r)=>{let n=e(t,o,r);return n?.props?(0,k.cloneElement)(n,{...n.props,id:t.id,key:t.id}):n}}function N(e,t){let o=[];return S(t,r=>{r.type===e&&o.push(r)}),o}function q(e,t,o,r,n){let i=n.map(s=>({...s,...s.node}));return{id:t.number,type:"mw-page",content:[{type:"mw-header",content:r,data:{page:t,section:e}},{type:"mw-body",content:[{content:o,type:"mw-content"},{content:i,id:`mw-page-${t.number}-footnotes`,type:"mw-footnotes"}]},{type:"mw-footer",id:`mw-page-${t.number}-footer`,data:{page:t,section:e},content:[]}]}}function I(e,t){let o=e.reduce((i,s)=>({...i,[s.anchor]:s}),{}),r=0,n={};for(let i of N("mw-footnote",t))i.inline&&(i.number=++r,n[i.anchor]=i.number);return Object.entries(n).map(([i,s])=>({node:o[i],anchor:i,number:s}))}function Q(e){let t=[],o=[];for(let r of e)(r.type==="heading"&&r.level===1||e.indexOf(r)===e.length-1)&&(t.push({type:"mw-section",id:m(),content:{type:"mw-page",id:m(),content:{type:"mw-body",id:m(),content:{type:"mw-content",id:m(),content:o}}}}),o=[]),o.push(r);return t.slice(1)}function _(e,t){return W(t).map(o=>{let r=e.filter(n=>o.ids.includes(n.id)&&n.type==="heading"&&n.level===1).flatMap(n=>n.content);return{type:"mw-section",id:o.number,content:o.pages.map(n=>{let i=n.ids,s=e.filter(u=>i.includes(u.id));return q(o,n,s,r,I(N("mw-footnote",e).filter(u=>!u.inline),s))})}})}var L=a("simple-markdown");var G=a("simple-markdown");var he=a("react/jsx-runtime"),we={match:(0,G.blockRegex)(/^ *(:{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n *)+\n/),order:0,parse(e,t,o){return o.blocks||(o.blocks=1),{block:e[2],content:t(`

${e[3]}

`,o),id:m()}},react(e,t){return(0,he.jsx)("div",{id:e.id,className:`block ${e.block}`,children:t(e.content)},e.id)}},F=we;var U=a("simple-markdown");var K=a("react/jsx-runtime"),be={match:(0,U.blockRegex)(/^<br(?:-(page|col))?\s?\/?>/),order:0,parse(e){return{breakType:e[1]||"line",id:m()}},react(e){switch(e.breakType){case"col":case"page":return(0,K.jsx)("div",{id:e.id,className:`mw-break-${e.breakType}`},e.id);default:return(0,K.jsx)("br",{id:e.id},e.id)}}},E=be;var d=a("simple-markdown");var z={...d.defaultRules.heading,match:(0,d.blockRegex)(/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n *)/)},V={...d.defaultRules.blockQuote,match:(0,d.blockRegex)(/^( *>[^\n]+(\n[^\n]+)*\n*)/),...c("blockquote")},M={...d.defaultRules.paragraph,...c("p")};var T=a("react/jsx-runtime"),Y={react(e,t){return(0,T.jsx)("div",{className:"mw",children:t(e.content)},`mw-${e.id}`)}},Z={react(e,t){let o=e.id%2?"odd":"even";return(0,T.jsx)("div",{className:`page page-${e.id} ${o}`,children:t(e.content)},`mw-page-${e.id}`)}};function j(e){return{react(t,o){let{section:r,page:n}=t.data,i=`mw-${r.number}-header-${n.number}`;return r.name=o(t.content),(0,T.jsx)("header",{children:e(r,n)},i)}}}function ee(e){return{react(t,o){let{section:r,page:n}=t.data,i=`mw-${r.number}-footer-${n.number}`;return r.name=o(t.content),(0,T.jsx)("footer",{children:e(r,n)},i)}}}var P=a("simple-markdown");var g=a("react/jsx-runtime"),$={match:(0,P.inlineRegex)(/^\[\^([\d\w]+)\](?::(\s.+))?/),order:P.defaultRules.link.order-1,parse(e,t,o){let[,r,n]=e;return{id:m(),anchor:r,inline:!n,content:t(n??null,o)}},react(e,t){let o=`footnote-${e.anchor}`,r=e.content?t(e.content):null,n=e.number??e.anchor;return e.inline?(0,g.jsx)("sup",{children:(0,g.jsx)("a",{href:o,children:n})},e.id):(0,g.jsxs)("span",{id:o,className:"footnote",children:[n,".",r]},e.id)}},te={react(e,t){let o=`footnotes ${e.content?.length?"":"empty"}`;return(0,g.jsx)("div",{className:o,children:t(e.content)},`mw-footnote-${e.id}`)}};var Se=a("react/jsx-runtime"),ye={react(e,t){return(0,Se.jsx)("section",{className:`section section-${e.id}`,children:t(e.content)},`section-${e.id}`)}},oe=ye;var R=a("react/jsx-runtime"),H={...L.defaultRules,mw:Y,paragraph:M,"mw-block":F,"mw-break":E,"mw-footnote":$,"mw-footnotes":te,"mw-page":Z,"mw-section":oe,"mw-column-separator":c("hr","mw-column-separator"),"mw-body":c("div","mw-body"),"mw-column":c("div","mw-column"),"mw-content":c("div","mw-content"),"mw-header":c("div","mw-header")};function re(){let e={};for(let t in H){let o={...H[t]};if(!t.startsWith("mw")){let r=o.react;r&&(o.react=X(r))}e[t]=o}return e}function ne(e={}){let t=e.header??(r=>(0,R.jsx)(R.Fragment,{children:r.name})),o=e.footer??((r,n)=>(0,R.jsx)(R.Fragment,{children:n.number}));return{...H,"mw-header":j(t),"mw-footer":ee(o)}}function ie(){let e={...L.defaultRules,blockQuote:V,heading:z,paragraph:M,"mw-block":F,"mw-break":E,"mw-footnote":$},t={};for(let o in e){let r={...e[o]},n=r.parse;r.parse=J(n),t[o]=r}return t}var A=a("react/jsx-runtime"),Ne=(0,w.parserFor)(ie()),Te=(0,w.outputFor)(re(),"react");function ae(e){let[t,o]=(0,l.useState)(null),[r,n]=(0,l.useState)(null),i=(0,l.useMemo)(()=>(0,w.outputFor)(ne(e),"react"),[e.header,e.footer]),s=(0,l.useMemo)(()=>Ne(e.value),[e.value]);(0,l.useEffect)(()=>o(Te(Q(s))),[s]);let u=(0,l.useCallback)(h=>{if(h&&t){let f=_(s,h);n(i(f))}},[t,e.className]);return(0,A.jsxs)("div",{className:e.className,children:[(0,A.jsx)(v,{ref:u,children:t}),(0,A.jsx)("div",{className:"mw",children:r})]})}})();
